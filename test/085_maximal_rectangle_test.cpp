#include "085_maximal_rectangle.h"
#include "gtest/gtest.h"

//MaximalRectangleNaiveSolution *solution085 = new MaximalRectangleNaiveSolution;
//MaximalRectangleDfsSolution *solution085 = new MaximalRectangleDfsSolution;
MaximalRectangleOptimalSolution *solution085 = new MaximalRectangleOptimalSolution;

vector<vector<char>> to_char_vector(vector<string> in) {
    vector<vector<char>> result;
    for (const string &s : in) {
        vector<char> row(s.begin(), s.end());
        result.push_back(row);
    }
    return result;
}

TEST(MaxRectangle, Test0) {
    vector<vector<char>> input = to_char_vector({
        "10100",
        "10111",
        "11111",
        "10010"
    });
    int actual = solution085->maximalRectangle(input);
    int expected = 6;
    EXPECT_EQ(actual, expected);
}

TEST(MaxRectangle, Test1) {
    vector<vector<char>> input = to_char_vector({
        "00010111",
        "01100101",
        "10111101",
        "00010000",
        "00100010",
        "11100111",
        "10011001",
        "01001100",
        "10010000"
    });
    int actual = solution085->maximalRectangle(input);
    int expected = 4;
    EXPECT_EQ(actual, expected);
}

TEST(MaxRectangle, Test2) {
    vector<vector<char>> input = to_char_vector({
        "11111111",
        "11111110",
        "11111110",
        "11111000",
        "01111000"
    });
    int actual = solution085->maximalRectangle(input);
    int expected = 21;
    EXPECT_EQ(actual, expected);
}

TEST(MaxRectangle, Test3) {
    vector<vector<char>> input = to_char_vector({
        "1111111110111111111101111111111111101011110111111111111111111111111111001011111011111111111111111111",
        "1111111110111111111111111011111110111111111011011111111111111111111111111110111101101111110111111011",
        "1111111111101101111110111111111111111111111011110111111111110111111111111111111111111111111111111001",
        "1111111111111111111111111111111111111110111011110111111111111111111111111111011111111110110111111111",
        "0111111111111101111111111111111111111111111110111110110111111111111111110110111111110111111111111100",
        "1111111111111111111111111101111111111011111101111111111111111111111111011110111111111111111101111111",
        "1101111111111111111111111101111111111111111111111111111111111111011111111111111111111110001111111111",
        "1111111111110111011111111101111011111011111111111111111111111111111111111111101111111111011111111011",
        "1101111111111111111111101111111111101111111111111111111110101101111011111111111111111101111111111111",
        "1111111101111101101111111111111011101111110110111111111111111101011111111111110111111111011111111111",
        "1111111111011101111111111111011111110111111111111111111011111111111111111111111111111111111111111110",
        "1111110101111111111110111111101111111111111111111011111111111111011111101110111110111111111111110111",
        "1011111101111111101111111111111111011111101101111111111111111111111111111111111011111111111111111010",
        "1111011111111111111111111111111111111111111111011111111111111111111111111101111111111111111011111111",
        "1111111111111111111111110111111111111010111111111011110111101111111011111011111111111101111111101111",
        "1111111111110111111111111111111111111111111111111010011111101111111111110111111111111111111111101111",
        "1111111111111111111111100111111111111111111111111111111111111111111111101111111111111111111101111111",
        "1101111111011111011111111111111111111111111111111110111110111101111111111011111111111101101011111111",
        "1111111111111111111111111011111111111111111111111111111111111111111101111111110111111111111111111111",
        "1110111111111111110111111011011111111101110111111111001111111111111011111111101111111111101110111011",
        "1011111111111101101111111011111111110011111111111111111111111110111111111111111111111110111011110111",
        "1110111111111111111111111111111110111111111111111111111111111111011111111111111111111111111111111111",
        "1101111111111010111111110011111111011011111101111111111101101111111111111110111011111111111111111111",
        "1111111101111111011101111111111101111100111111111111111011111111111111111111111101110111101111111111",
        "1111110111111011011111111111111111111111111111111111111111011101111111101101111111101111110111111111",
        "1111111111111101111111111111101011111111111111111111101111011111111111111111111111111111111111110111",
        "1111011111111111110111111111101111011100111111111111101101101110111111111110111111111111111011111111",
        "1111111111111111111111111111110101111101111011111111101111111101111111111111111110111111111111111111",
        "1111111101110011111111111111111111110111111111111111111111111111111111111111111111001111111111111111",
        "0111110111111111111111111111111111111011111011111111111110111011111101011111111111111111111111111111",
        "1111111111111111011111111011111111111111111111111111011111111101111111111111111111111111011011111111",
        "1111111101111111111101111011111111111111111111111111111111111111111011111111110111011111111111111111",
        "1110111111011111101101101011111111110111111111111111101110110100111111111111111111111111111111111101",
        "1111111111111111111111111111111111111111111011111101111111011111111101111101111111111111111101111111",
        "1110111111100111111111111111111111111111011111111111110111110111111111111101111111111111111111111111",
        "1111111111111110111111111111111111110111111101111111110111101111111111111011110111110101101111111111",
        "1111110111111111111111111111111111111111111110011111111111111111111111111111110011011111101111111110",
        "1111111111111111111110101110011111111001111111111101101111111111111111111111111111111111111110111111",
        "1110111111011110111011111111111111111111111111111111111111111010111111111001110111111111011111011111",
        "1011111111111111111111111101111111111111111111111111111111111111111111111111111011111111111111101111",
        "1111111111111111111111111111111101111111111111111110111111111111110111111111111111111001111110111111",
        "1111110111101111111111111111111100111111111111111101011111111111110101111111111111011111111011101111",
        "1110111111111111101111111111111110111111110111110111101111111111111111111111111111101111111111111111",
        "1111111111111111111111011111111111111111111010111111111111111111111110111111111111111111110011111111",
        "1010111111111011111111111111111111111111111111011101111111111111111111101111111111111011111111111101",
        "1111111111011111111111111111111111111111111111111111111111111111111111111111110111111111111111111111",
        "1111111110111111110011011111111110111111111101111110111111111111011111111111101011001111001101111111",
        "1111111111111111111111111011111111111110101111111111111111111111111111111111111111111111111111111111",
        "1111111111110111111111111101011111111111111111111110111111111111110111111111111011111111110111111011",
        "1110111011110011111111011111111111111110111111111111101110111111111111111111111111111111110111111111",
        "0101111111111111110110111111111111111111111111111111101111111111111101101011111111110111111111111111",
        "1011110111011111111111111111111111111111110111110111111001111111111111111111001111111111111111101111",
        "1111110111111111111111111110111111111111111111111111101111111111111111101111111111111011111111011110",
        "1111011111111111111111101110111101111111111111111111111111111111110111111111111111101111111111011111",
        "1111111111111111111111111111111111111111111011111111111111111111111111111110011111111111111111111111",
        "1111111111111111111111111101111101111111111111111110111111111111111111111111111111111111100111111111",
        "0011111111111111111111111111011111111101111111111111111111111111111111111111111111111111111111111111",
        "1111111110111111111111111111111111011111111111111110111111111111111101111111111111111111101111111111",
        "1111111111101111011111111111011110111111011111111101111111111110111111111111111110111011111111110111",
        "1111111111110111111111111111111111111110101111111111111111111111111111111101011111111101101101111011",
        "1111111111111111101111111111101110101110111111111111111111110111111111111111111111101111111111111111",
        "1111111111011111111111111111111101111110111111110111111111111111111111101101111111111111111111111111",
        "0111110111011111111111111101011101100111111011101111011111011111111111111101111110111111111111111011",
        "1111111111110101111111111111111111110111111111111111111110111111101111111111111111111011111111111111",
        "1111101111111011110111111111111111111111101111111111111111111111110111111111011111111111111101111111",
        "1111111101111111111111111111111001111111111011111111111111111011111111111111110011011111111111111111",
        "1111111111111111111111111111111111111111111111011101111111111111101111111101011111111101111111111111",
        "1111101101111111111111111111111111110110011111111111111111111101111110111111111111111111111111111111",
        "1111111111111111111111110111111101111110111011111111101011111011111110111111111111101111111111111111",
        "1111111111101111100111010111111110011111110110111111111011111111111101111111111111111101111111110111",
        "1111111111111111101111111111111111111111111111101111011111111111111111111111111111111101111111111111",
        "1111111101111111111111111111111111110110111111111101101111111111111111111011111111111111111101111011",
        "1101111111111111111111111110110101111111111111111111111111111111111110011101111111100111111111111110",
        "1111111011111111101111110111111111111111111101111111111101101011111011111111111111111111111111111111",
        "1111011111110111111111011111111111011111111111111111111111111111111111111110111111111111011111111111",
        "1111111111111111111111111111111011111111110111111110111111111101111111111111111011011111111111111111",
        "1111111110111111111111111111111110111111111111111111101111111111111111111111111111111101111110100111",
        "1111011111111111110111111111111111110111011111111111110111111111111111011111111111111111111111110111",
        "1011111111111100111101111111111111101111111111111111111111111111111111110011111111111111111111111101",
        "1111111011111111111111110111111111111110111011111111111101111111111111111111111111111111111111111111",
        "1101111111111111111111111111111111111111111111111100011111111110101111111111101111111111111111111111",
        "1111001111111111111111101111111111111111111111111111111111111111111111111111111111110111111111111111",
        "1111111101111111111111111111111011111111111111111111111111111111011111110011111101111111011111111111",
        "1110111111111101111111111101111111111111111111111111111111011111111001110111111011111011111111111111",
        "1111111001111111110111111110111111111111111011111111111111111111111111110111111111111111111111111111",
        "1011111111111111110101101101111111111011111111111111011111110111111011111111111111011111111111111111",
        "1101111111111110110011101111111111101111110111110111111111101111111101110111111111111111100111111111",
        "0111111110111111111111111111111111111111111111111111111111111111111111111111111111101111111111111111",
        "1111111111111110111101111111111111111111111111111111111111011011111111111101101011111111111111111111",
        "1111101111111111111011111111111111111111110111111101111110111111111011111111111111111111111111111111",
        "1111111101111111011111111111110111111111111111111111011110101111011111111011111011011111111111111111",
        "1101111111111111101111111111111111111111011001111111111111111111111111111111111111111111111111111011",
        "1111111111111101111110111111011111111111111111111111111111110111111111111111111111111111111011111111",
        "1111110110111111111111111101111111111111111111111111111111111111111111111111111110011111101111111111",
        "1110111111111111111111111111111111111111111111111111111011111111111111111111111111011111111111111111",
        "1110111101111011110111111101111111111111111111111111111111111111111111111111110111110111111111111111",
        "0011111111110111111111110011111111111101111111101111111111100111001111110111111111111111111111111111",
        "1111111011111111111101111111111111111111111110110111111111111111111111111111111101101111111011111111",
        "1111011111111111101111111111111111111111000111111111111111111011111111111111011111111101011111111111",
        "1111111111111111011111111111111111111111111111111111111111111111111111011111111101110111110111111111"
    });
    int actual = solution085->maximalRectangle(input);
    int expected = 114;
    EXPECT_EQ(actual, expected);
}
